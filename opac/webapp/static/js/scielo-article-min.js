var Article={TopBinder:[],Init:function(){var e=$("#articleText"),t=e.offset(),i=$(".articleMenu").width(),a=$(".articleSection",e);$(".ModalTables").on("shown.bs.modal",function(){var e=$(".modal-body",this),t=$("table",e),i=e.outerWidth(),a=t.outerWidth();e.is("cached")||(t.addClass("table"),a>i?t.addClass("autoWidth"):t.removeClass("autoWidth")),e.addClass("cached")}),$(".ref").on("mouseenter mouseleave",function(e){var t=$(this),i=$(".xref",t),a=i.next("span:eq(0)"),l=t.position(),o=i.outerHeight(),n=l.left,r=t.closest("li");"mouseenter"===e.type?(r.length>0&&r.addClass("zindexFix"),a.removeClass("closed").addClass("opened").css({left:n>300?-n/3:0}).fadeIn("fast")):(r.length>0&&r.removeClass("zindexFix"),a.removeClass("opened").addClass("closed"))}),$(".thumb").on("mouseenter mouseleave",function(e){var t=$(this).parent().parent().find(".preview");"mouseenter"==e.type?t.fadeIn("fast"):"mouseleave"==e.type&&t.fadeOut("fast")}),$(".ModalTables").on("shown.bs.modal",function(){0==$("table td[colspan], table td[rowspan]",this).length&&$("table",this).addClass("table-hover")}),$(".collapseTitle").on("click",function(){var e=$(this).next(),t=$(this).find(".collapseIcon");e.is(":visible")?(e.slideUp("fast"),t.removeClass("opened")):(e.slideDown("fast"),t.addClass("opened"))}),$(".expandReduceText").on("click",function(e){e.preventDefault();var t=$("#articleText .ref"),i=$("#articleText .text"),a=$(this).data("expandreducetext");void 0===$(this).data("defaultwidth")&&$(this).data("defaultwidth",i.outerWidth()),1==a?(t.hide(),i.outerWidth("100%"),$(this).data("expandreducetext",!1)):(i.width(""),t.show(),$(this).data("expandreducetext",!0));var l=$(window).scrollTop();setTimeout(function(){Article.ArticleStructureBuilder(),Article.ArticleStructureSelect(l)},100)}),$(".articleTxt .xref:not(.big)").on("click",function(){var e=$(this).text(),t=$(".ref-list");-1==e.indexOf(",")?(parseInt(e),e--):(e=e.split(","),e=e[0],parseInt(e),e--)}),Article.ArticleStructureBuilder(),t.top=t.top-25;var l=e.outerHeight(),o=$(".articleMenu").height();if(window.setTimeout(function(){o=$(".articleMenu").height()},200),$(window).scroll(function(){var e=$(window).scrollTop();e>t.top?($(".articleMenu").addClass("fixed").width(i),e>l+t.top-o-46?$(".articleMenu").addClass("fixedBottom"):$(".articleMenu").removeClass("fixedBottom")):$(".articleMenu").removeClass("fixed"),Article.ArticleStructureSelect(e),$(".alternativeHeader").stop(!1,!1)}),""!=window.location.hash){var n=window.location.hash,r=window.scrollY;$(n).modal("toggle").on("hidden.bs.modal",function(){window.location.hash="",$("body,html").scrollTop(r)})}$("[data-toggle='modal']").on("click",function(){var e=$(this),t=e.data("target"),i=window.scrollY;"undefined"==t&&""==t||(window.location.hash=t),$(t).on("hidden.bs.modal",function(){window.location.hash="",$("body,html").scrollTop(i)})});var s=$(".downloadOptions li.group"),d=100/s.length;s.css("width",d+"%")},ArticleStructureBuilder:function(){var e=$(".articleMenu"),t=$("#articleText .articleSection"),i=0,a="";Article.TopBinder=[],t.each(function(){var e=$(this).data("anchor"),t=$(this).find(".articleSectionTitle"),l=$(this).offset();if(0==$(this).find("a[name='articleSection"+i+"']").length&&$(this).prepend("<a name='articleSection"+i+"'></a>"),0==i?Article.TopBinder.push(0):Article.TopBinder.push(l.top),void 0===e)return!0;if(a+="<li "+(0==i?'class="selected"':"")+">",a+='\t<a href="#articleSection'+i+'">'+e+"</a>",t.length>1){var o=0;a+="<ul>",t.each(function(){var e=$(this).offset();Article.TopBinder.push(e.top),0==$(this).prev("a[name='as"+i+"-heading"+o+"']").length&&$(this).before("<a name='as"+i+"-heading"+o+"'></a>"),a+="<li>",a+='\t<a href="#as'+i+"-heading"+o+'">'+$(this).text()+"</a>",a+="</li>",o++}),a+="</ul>"}a+="</li>",i++}),e.html(a),$("a",e).on("click",function(e){e.preventDefault();var t=$(this).attr("href");t=t.replace("#","");var i=$("a[name="+t+"]").offset();$("html,body").animate({scrollTop:i.top-60},500)})},ArticleStructureSelect:function(e){for(var t=$(".articleMenu"),i=0,a=0,l=Article.TopBinder.length;a<l;a++){if(a==l-1&&e>=Article.TopBinder[a]-100){t.find("li").removeClass("selected"),t.find("li:eq("+a+")").addClass("selected");break}if(e<=Article.TopBinder[a]-100){t.find("li").removeClass("selected"),t.find("li:eq("+(a-1)+")").addClass("selected");break}}}};
//# sourceMappingURL=./scielo-article-min.js.map